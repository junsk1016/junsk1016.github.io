---
layout: single
title: "Docker의 기본적인 용어 정리"
categories:
  - DeepLearning
classes: wide
tags:
  - jeykll
  - github
  - Minimalmistakes
  - blog
  - DeepLearning
use_math: true
comments: true
---

###### Docker의 기본적인 용어 정리

공부한 링크 : https://www.notion.so/b67ed727aea4467cbc3226bb0c8e8336  

도커가 무엇인지 어떠한 장점이 있는지 등에 대한 내용은 위의 링크를 참고하시길 바랍니다! 저는 이번에 docker의 기본적인 명령어를 정리해보도록 하겠습니다.

## Docker의 기본적인 flow  

흐름은 git과 유사하다는 생각이 들었습니다. 그래도 개념적인 면에서 다르니 같은 것이라 생각하시면 안 됩니다.  

도커는 Registry라는 저장소에 있는 이미지(only read만 할 수 있는 설명서?)를 받아 내가 만든 컨테이너에서 동작시키는 것이라고 저는 이해했습니다!  

Registry는 docker hub라는 사이트가 대표적인 것 같아요. offical도 있고 일반 사용자가 올린 image들도 있습니다. 이 registry에서 image를 받아오는 것을 pull이라고 해요. 명령어는 아래와 같습니다.  

`sudo docker pull image_name`  

pull한 이미지를 삭제하려면 아래의 명령어를 사용합니다. remove image를 줄여 rmi라고 합니다. 만약 container가 떠있어서 이미지가 삭제되지 않는 경우 `-f` 를 뒤에 추가하면 삭제가 가능합니다.     

`sudo docker rmi image_name`  
`sudo docker rmi image_name -f`  

내가 지금 무슨 이미지들이 있는지 확인하는 명령어는 아래와 같습니다.  

`sudo docker images`  

이제 컨테이너를 만들어야겠죠. 방법은 2가지가 있습니다. run 명령어와 create, start 명령어입니다. 무슨 차이가 있느냐? run은 컨테이너를 만들고(create) 실행(start)하는 것을 동시에 수행합니다. 만약에 이미지를 pull하지 않은 상태라면 image pull, container create, container start를 수행합니다. 한번에 수행해주니 간편하다는 장점이 있지만 만약 이미 container를 만든 상태라면 해당 container가 아닌 새로운 container를 만들게 됩니다. 즉 명령어를 사용할 때마다 container를 만들게 되는 것이죠. 그래서 처음에만 run을 사용합니다. run을 사용하는 명령어는 아래와 같습니다.  

`sudo docker run -d -p 80:80 --name container_name image_name`  

80:80는 포트번호, 컨테이너의 이름을 따로 설정할거면 --name container_name을 위와 같이 추가로 넣으시면 됩니다. 그 뒤에 image_name을 적어줍니다. container를 시작하기 위해서는 위에 말씀드린 start 명령어를 사용하시면 됩니다. 이미 존재하고 사용했다가 껐던 container는 restart로도 사용이 가능합니다.  

`sudo docker start container_name`  
`sudo docker restart container_name`   

컨테이너가 잘 있는지 확인하는 명령어는 아래와 같습니다. -a를 붙이면 모든 container를 확인하고 붙이지 않으면 열려있는 컨테이너를 확인할 수 있습니다.  

`sudo docker ps -a`  

현재 돌아가는 container를 끄기 위해서는 `stop` 명령어를 사용합니다. 이때 이미지의 이름이 아닌 컨테이너의 이름을 적어야 하는 것을 주의해주세요.  

`sudo docker stop container_name`  

container를 삭제하기 위해서는 무조건 `stop` 상태여야합니다. stop하지 않으면 삭제가 안됩니다.. 삭제 명령어는 remove의 rm 입니다.  

`sudo docker rm container_name`  
